<section>
    <h2 class="text-4xl my-2"> Popular Products</h2>

    <input [(ngModel)]="term" type="search" placeholder="Search by Name..." class="form-control w-[50%] mx-[25%] my-2">
    <div class="grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-10">
       @for (prod of products.slice(0,12) | search:term; track prod.id) {
        <div class="card  border border-main rounded-md overflow-hidden shadow relative" >
           <div [routerLink]="['/details', prod.id]">
            <div class="card-img">
                <img [src]="prod.imageCover" class="w-full h-[250px] object-contain"  [alt]="prod.title"/>
            </div>
            <div class="card-body px-2 py-4">
                <h4 class="text-main text-xs">{{prod.category.name}}</h4>
                <h3 class="font-medium">{{prod.title.split(' ',2).join(' ')}}</h3>
                <div class="flex justify-between items-center">
                    <span> {{prod.price}} EGP</span>
                    <div class="flex items-center">
                        <i class="fas fa-star text-yellow-300"></i>
                        <span class="text-gray-500">{{prod.ratingsAverage}}</span>
                    </div>
                </div>
            </div>
           </div>
            <button (click)="addToCart(prod.id)" class="bg-main text-white py-2 px-10 border rounded w-[70%]   block">ADD TO CARD</button>
            <button (click)="addToWishList(prod.id)" class="text-gray-700 
             py-2 px-10   w-[20%]   "><i class="fa-solid fa-heart"></i></button>
        </div>
       }
    </div>
</section>
